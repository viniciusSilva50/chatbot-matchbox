extends layout

block content

  div.container-fluid
    div.row.white-box.custom-padding
      div.col-lg-8.col-lg-offset-2.col-md-8.col-md-offset-2
        div.row
          div.col-lg-8.col-lg-offset-2.col-sm-12.col-xs-12.text-center.logo
            img(width="350", height="64", src="http://matchboxbrasil.com/wp-content/uploads/2017/06/matchbox-logo-1.png", alt="logo")
        div.row
          div.col-lg-8.col-lg-offset-2.text-center.conversation-box
            | CONVERSA
        div.row
          div.col-lg-8.col-lg-offset-2.timeline-box
            div.messages

                div.row.message-block.bluemix-chat-block
                    div.chat-face.col-lg-2.col-md-2.col-sm-2.col-xs-2.text-center
                        div.face.text-center

                    div.chat-message.col-lg-10.col-md-10.col-sm-10.col-xs-10.text-left
                        div.message.text-left
                            | Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem

                div.row.message-block.person-chat-block
                    div.chat-message.col-lg-10.col-md-10.col-sm-10.col-xs-10.text-right
                        div.message.text-right
                            | Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem

                    div.chat-face.col-lg-2.col-md-2.col-sm-2.col-xs-2.text-center
                        div.face.text-center




                div.row.message-block.bluemix-chat-block
                    div.chat-face.col-lg-2.col-md-2.col-sm-2.col-xs-2.text-center
                        div.face.text-center

                    div.chat-message.col-lg-10.col-md-10.col-sm-10.col-xs-10.text-left
                        div.message.text-left
                            | Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem Menssagem





    div.row.footer-box
      div.col-lg-8.col-lg-offset-2.col-md-8.col-md-offset-2.custom-margin
        div.row
          form
            div.form-group.col-lg-6.col-lg-offset-2.col-md-10.col-sm-11.col-xs-10.container-input
              input(type="text", id="message", placeholder="Digite sua mensagem").form-control.field-message
            div.form-group.col-lg-2.col-md-2.col-sm-1.col-xs-2.container-button.text-right
              button(type="button", id="sendMessage").btn.btn-default.btn-xs.send-message-button
                span.hidden-xs
                    | ENVIAR




  block page-js

    script.
      var send = function () {
        let message = document.getElementById('message').value;

        if(message !== undefined && message.length > 0 ){
            let request = new XMLHttpRequest();

            request.onload = function () {
                console.log('Load the request');
                console.log(this.responseText);
            }

            request.onreadystatechange = function () {

            }


            request.open('POST', 'conversation/send-message', true);

            request.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

            request.send(JSON.stringify({message: message}));

        }

      }

      document.getElementById('sendMessage').addEventListener('click', send);